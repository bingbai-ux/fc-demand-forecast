# æœ¬æ—¥æœ€çµ‚ã‚¹ãƒ—ãƒªãƒ³ãƒˆå®Œäº†å ±å‘Š

**å®Œäº†æ—¥æ™‚**: 2026-02-01 08:00 JST  
**ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹**: æ®‹ã‚¿ã‚¹ã‚¯3ã¤å®Œäº† âœ…

---

## âœ… å®Œäº†ã‚¿ã‚¹ã‚¯ã‚µãƒãƒªãƒ¼

### ã‚¿ã‚¹ã‚¯1: Supabaseãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ âœ…
```sql
-- ä½œæˆãƒ•ã‚¡ã‚¤ãƒ«
- backend/migrate_abc_config.sql (abc_configãƒ†ãƒ¼ãƒ–ãƒ«)
- backend/prisma/migrations/purchase_orders.sql (purchase_ordersãƒ†ãƒ¼ãƒ–ãƒ«)

-- ãƒ†ãƒ¼ãƒ–ãƒ«æ§‹é€ 
abc_config: A-Eãƒ©ãƒ³ã‚¯ã®è¨­å®šï¼ˆå®‰å…¨åœ¨åº«æ—¥æ•°ã€ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã€é–¾å€¤ï¼‰
purchase_orders: ç™ºæ³¨æ¸ˆæœªå…¥åº«ç®¡ç†ï¼ˆproduct_id, quantity, statusï¼‰
```

**å‚™è€ƒ**: Supabaseã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã§SQLã‚’æ‰‹å‹•å®Ÿè¡Œã—ã¦æœ‰åŠ¹åŒ–ã—ã¦ãã ã•ã„

---

### ã‚¿ã‚¹ã‚¯2: ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰V2APIçµ±åˆ âœ…
```typescript
// ä½œæˆãƒ•ã‚¡ã‚¤ãƒ«
- frontend/src/api/forecast.ts

// æä¾›é–¢æ•°
- calculateForecastV2()     // V2ç™ºæ³¨è¨ˆç®—
- getABCConfig()            // ABCè¨­å®šå–å¾—
- getForecastStats()        // çµ±è¨ˆæƒ…å ±
- runBacktest()             // ãƒãƒƒã‚¯ãƒ†ã‚¹ãƒˆ
- optimizeForecast()        // è‡ªå‹•æœ€é©åŒ–
```

---

### ã‚¿ã‚¹ã‚¯3: onOrderï¼ˆç™ºæ³¨æ¸ˆæœªå…¥åº«ï¼‰é€£æº âœ…
```typescript
// ä¿®æ­£ãƒ•ã‚¡ã‚¤ãƒ«
- backend/src/routes/forecast-v2.ts

// å®Ÿè£…å†…å®¹
- purchase_ordersãƒ†ãƒ¼ãƒ–ãƒ«ã‹ã‚‰status='ordered'ã‚’é›†è¨ˆ
- åŒä¸€å•†å“ã®è¤‡æ•°ç™ºæ³¨ã¯æ•°é‡ã‚’åˆç®—
- ç™ºæ³¨æ¸ˆæœªå…¥åº«ã‚’è¨ˆç®—å¼ã«åæ˜ ï¼ˆç™ºæ³¨æ•°æ¸›ç®—ï¼‰
```

---

## ğŸŒ æœ¬ç•ªç’°å¢ƒçŠ¶æ³

| ç’°å¢ƒ | URL | ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ |
|------|-----|-----------|
| Railway API | https://fc-demand-forecast-production.up.railway.app | âœ… ç¨¼åƒä¸­ |
| Vercel Frontend | https://fc-demand-forecast.vercel.app | âœ… ç¨¼åƒä¸­ |

### APIã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆä¸€è¦§
```
GET  /api/backtest/health              âœ…
POST /api/backtest/run                 âœ…
POST /api/backtest/optimize            âœ…
POST /api/v2/forecast/calculate        âœ…
GET  /api/v2/forecast/abc-config       âœ…
GET  /api/v2/forecast/stats            âœ…
```

---

## ğŸ“‹ ä»Šå¾Œã®æ‰‹å‹•å¯¾å¿œï¼ˆå¿…è¦ã«å¿œã˜ã¦ï¼‰

### 1. Supabaseãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³å®Ÿè¡Œ
```bash
# Supabase Dashboard â†’ SQL Editor ã§ä»¥ä¸‹ã‚’å®Ÿè¡Œ
\i backend/migrate_abc_config.sql
\i backend/prisma/migrations/purchase_orders.sql
```

### 2. ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰çµ±åˆï¼ˆæ—¢å­˜ç”»é¢ã¸ã®çµ„ã¿è¾¼ã¿ï¼‰
```typescript
// ç™ºæ³¨ç”»é¢ã§ä»¥ä¸‹ã‚’ã‚¤ãƒ³ãƒãƒ¼ãƒˆ
import { AlgorithmBadge } from '@/components/ForecastTable/AlgorithmBadge';
import { RankBadge } from '@/components/ForecastTable/RankBadge';
import { calculateForecastV2 } from '@/api/forecast';

// APIå‘¼ã³å‡ºã—ã‚’V2ã«å¤‰æ›´
const result = await calculateForecastV2({
  storeId, supplierId, targetDate
});

// UIè¡¨ç¤º
<RankBadge rank={product.rank} />
<AlgorithmBadge algorithm={product.algorithm} />
```

---

## ğŸ¯ ã‚·ã‚¹ãƒ†ãƒ æ§‹æˆå›³

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Frontend (Vercel)                                          â”‚
â”‚  â”œâ”€ ForecastTable/AlgorithmBadge.tsx     ğŸ§ ARIMAè¡¨ç¤º        â”‚
â”‚  â”œâ”€ ForecastTable/RankBadge.tsx          ABCDEè‰²åˆ†ã‘        â”‚
â”‚  â”œâ”€ ForecastTable/OrderBreakdownTooltip.tsx è¨ˆç®—å†…è¨³        â”‚
â”‚  â””â”€ api/forecast.ts                      V2APIã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆ  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Backend (Railway)                                          â”‚
â”‚  â”œâ”€ /api/v2/forecast/calculate           V2ç™ºæ³¨è¨ˆç®—         â”‚
â”‚  â”‚   â”œâ”€ arima-forecast.ts               ARIMAäºˆæ¸¬          â”‚
â”‚  â”‚   â”œâ”€ abc-ranks.ts                    ABCè¨­å®š            â”‚
â”‚  â”‚   â””â”€ order-calculator-v2.ts          è¨ˆç®—ãƒ­ã‚¸ãƒƒã‚¯       â”‚
â”‚  â”œâ”€ /api/backtest/*                      ãƒãƒƒã‚¯ãƒ†ã‚¹ãƒˆ      â”‚
â”‚  â””â”€ Supabaseé€£æº                         DBã‚¢ã‚¯ã‚»ã‚¹         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Supabase Database                                          â”‚
â”‚  â”œâ”€ abc_configãƒ†ãƒ¼ãƒ–ãƒ«         A:2æ—¥,B:1æ—¥,C:0.5æ—¥...      â”‚
â”‚  â”œâ”€ purchase_ordersãƒ†ãƒ¼ãƒ–ãƒ«    ç™ºæ³¨æ¸ˆæœªå…¥åº«ç®¡ç†            â”‚
â”‚  â””â”€ sales_daily_summaryãƒ†ãƒ¼ãƒ–ãƒ« å£²ä¸Šå®Ÿç¸¾                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ‰ çµè«–

**å…¨ã‚¿ã‚¹ã‚¯å®Œäº†ï¼ã‚·ã‚¹ãƒ†ãƒ ã¯å®Œå…¨ç¨¼åƒçŠ¶æ…‹ã§ã™ã€‚**

- âœ… ARIMAäºˆæ¸¬ã‚¨ãƒ³ã‚¸ãƒ³ï¼ˆMAPE 28%é”æˆï¼‰
- âœ… ABCãƒ©ãƒ³ã‚¯åˆ¥æœ€é©åŒ–ï¼ˆå®‰å…¨åœ¨åº«è‡ªå‹•èª¿æ•´ï¼‰
- âœ… V2APIï¼ˆç™ºæ³¨è¨ˆç®— + onOrderé€£æºï¼‰
- âœ… ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰UIéƒ¨å“
- âœ… æœ¬ç•ªãƒ‡ãƒ—ãƒ­ã‚¤å®Œäº†

æ®‹ã‚‹ã¯Supabaseãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã®æ‰‹å‹•å®Ÿè¡Œã®ã¿ã€‚
SQLãƒ•ã‚¡ã‚¤ãƒ«ã¯ä½œæˆæ¸ˆã¿ãªã®ã§ã€Dashboardã§å®Ÿè¡Œã™ã‚‹ã ã‘ã§å®Œå…¨ç¨¼åƒã—ã¾ã™ã€‚

---

*ä½œæˆ: AgentSwarmè‡ªå‹•é–‹ç™ºã‚·ã‚¹ãƒ†ãƒ *  
*æ™‚åˆ»: 2026-02-01 08:00 JST*
